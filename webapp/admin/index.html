<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | Telegram Bot</title>
    <link rel="stylesheet" href="css/admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">ü§ñ</span>
                    <span class="logo-text">Telegram Bot</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="#" class="nav-item" data-page="applications">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text">–ó–∞—è–≤–∫–∏</span>
                </a>
                <a href="#" class="nav-item" data-page="admins">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-text">–ê–¥–º–∏–Ω—ã</span>
                </a>
                <a href="#" class="nav-item" data-page="trade-points">
                    <span class="nav-icon">üìç</span>
                    <span class="nav-text">–¢–æ—Ä–≥–æ–≤—ã–µ –¢–æ—á–∫–∏</span>
                </a>
                <a href="#" class="nav-item" data-page="tariffs">
                    <span class="nav-icon">üí∞</span>
                    <span class="nav-text">–¢–∞—Ä–∏—Ñ—ã</span>
                </a>
                <a href="#" class="nav-item" data-page="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="bot-status" id="botStatus">
                    <span class="status-dot active"></span>
                    <span class="status-text">–ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <h1 class="page-title" id="pageTitle">–ì–ª–∞–≤–Ω–∞—è</h1>
                <div class="top-bar-right">
                    <span class="current-time" id="currentTime"></span>
                </div>
            </header>

            <!-- Dashboard Page -->
            <section class="page active" id="page-dashboard">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìù</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statTotal">0</span>
                            <span class="stat-label">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</span>
                        </div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="stat-icon">üÜï</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statNew">0</span>
                            <span class="stat-label">–ù–æ–≤—ã–µ —Å–µ–≥–æ–¥–Ω—è</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è≥</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statInProgress">0</span>
                            <span class="stat-label">–í —Ä–∞–±–æ—Ç–µ</span>
                        </div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <span class="stat-value" id="statCompleted">0</span>
                            <span class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card chart-card">
                        <h3 class="card-title">–î–∏–Ω–∞–º–∏–∫–∞ –∑–∞—è–≤–æ–∫ –∑–∞ –º–µ—Å—è—Ü</h3>
                        <canvas id="applicationsChart"></canvas>
                    </div>

                    <div class="card actions-card">
                        <h3 class="card-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        <div class="quick-actions">
                            <button class="action-btn" onclick="showPage('applications')">
                                <span class="action-icon">üìã</span>
                                <span>–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫</span>
                            </button>
                            <button class="action-btn" onclick="showPage('admins')">
                                <span class="action-icon">üë•</span>
                                <span>–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞</span>
                            </button>
                            <button class="action-btn" onclick="refreshData()">
                                <span class="action-icon">üîÑ</span>
                                <span>–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</span>
                            </button>
                            <button class="action-btn" id="toggleBotBtn" onclick="toggleBot()">
                                <span class="action-icon">üî¥</span>
                                <span>–í—ã–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="card recent-applications">
                    <h3 class="card-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞—è–≤–∫–∏</h3>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>–ò–º—è</th>
                                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                    <th>–¢–∞—Ä–∏—Ñ</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–î–∞—Ç–∞</th>
                                </tr>
                            </thead>
                            <tbody id="recentApplicationsBody">
                                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Applications Page -->
            <section class="page" id="page-applications">
                <div class="page-header">
                    <div class="search-filter">
                        <input type="text" class="search-input" id="searchApplications"
                            placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, –∞–¥—Ä–µ—Å—É...">
                        <select class="filter-select" id="filterStatus">
                            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                            <option value="–ù–æ–≤–∞—è">–ù–æ–≤–∞—è</option>
                            <option value="–í —Ä–∞–±–æ—Ç–µ">–í —Ä–∞–±–æ—Ç–µ</option>
                            <option value="–í—ã–ø–æ–ª–Ω–µ–Ω–∞">–í—ã–ø–æ–ª–Ω–µ–Ω–∞</option>
                            <option value="–û—Ç–º–µ–Ω–µ–Ω–∞">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
                        </select>
                        <select class="filter-select" id="filterTradePoint">
                            <option value="">–í—Å–µ —Ç–æ—á–∫–∏</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="exportToExcel()">
                        üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
                    </button>
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="data-table" id="applicationsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>–ò–º—è</th>
                                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                    <th>–¢–∞—Ä–∏—Ñ</th>
                                    <th>–ê–¥—Ä–µ—Å</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–î–∞—Ç–∞</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="applicationsBody">
                                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination" id="applicationsPagination">
                        <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                    </div>
                </div>
            </section>

            <!-- Admins Page -->
            <section class="page" id="page-admins">
                <div class="admins-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</h3>
                            <button class="btn btn-primary" onclick="showAddAdminModal()">
                                ‚ûï –î–æ–±–∞–≤–∏—Ç—å
                            </button>
                        </div>
                        <div class="admins-list" id="adminsList">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ</h3>
                        <div class="pending-requests" id="pendingRequests">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trade Points Page -->
            <section class="page" id="page-trade-points">
                <div class="page-header">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏</h3>
                    <button class="btn btn-primary" onclick="showAddTradePointModal()">
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É
                    </button>
                </div>
                <div class="card">
                    <div class="trade-points-list" id="tradePointsList">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </section>

            <!-- Tariffs Page -->
            <section class="page" id="page-tariffs">
                <div class="card">
                    <h3 class="card-title">–¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã</h3>
                    <div class="tariffs-list" id="tariffsList">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </section>

            <!-- Settings Page -->
            <section class="page" id="page-settings">
                <div class="settings-grid">
                    <div class="card">
                        <h3 class="card-title">–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞</h3>
                        <div class="setting-row">
                            <span>–ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="botActiveToggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">–†–∞—Å—Å—ã–ª–∫–∞</h3>
                        <textarea class="broadcast-input" id="broadcastMessage"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏..."></textarea>
                        <button class="btn btn-primary" onclick="sendBroadcast()">
                            üì¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ–º
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal for adding admin -->
    <div class="modal" id="addAdminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
                <button class="modal-close" onclick="closeModal('addAdminModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>User ID</label>
                    <input type="text" id="newAdminId" class="form-input" placeholder="Telegram User ID">
                </div>
                <div class="form-group">
                    <label>–ò–º—è</label>
                    <input type="text" id="newAdminName" class="form-input" placeholder="–ò–º—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
                </div>
                <div class="form-group">
                    <label>–¢–æ—Ä–≥–æ–≤–∞—è —Ç–æ—á–∫–∞</label>
                    <select id="newAdminTradePoint" class="form-input">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addAdminModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addAdmin()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal for application details -->
    <div class="modal" id="applicationModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏ #<span id="modalAppId"></span></h3>
                <button class="modal-close" onclick="closeModal('applicationModal')">&times;</button>
            </div>
            <div class="modal-body" id="applicationDetails">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('applicationModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="sendMessageToClient()">üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>